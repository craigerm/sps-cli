{%- comment  -%}
  # Auto-generated by build tool. Do not edit!

  Usage:
    render 'app-js', name: 'theme', type: 'bundle' | 'component',  path_only: true, raw: true, defer: true
{% endcomment -%}
{%- liquid
  assign js_name = ''
  assign warning = false
  assign path_only = path_only | default: false
  assign as_url = as_url | default: false
  assign type = type | default: 'bundle'

  if type == 'bundle'
    assign js_name = '%PREFIX%bundle.' | append: name
  elsif type == 'component'
    assign js_name = '%PREFIX%component-' | append: name
  else
    assign js_name = name
    assign warning = true
  endif

  assign js_name = js_name | append: '%EXT%'

  if path_only and raw == true
    echo js_name
    break
  elsif path_only
    echo js_name | asset_url
    break
  endif
-%}
<script%SCRIPT_TYPE%src="{{ js_name | asset_url }}"{% if defer != false %} defer="defer"{% endif %}></script>
{%- if warning -%}
<script>console.error('[app-js] No type specified for {{ name}}')</script>
{%- endif -%}
